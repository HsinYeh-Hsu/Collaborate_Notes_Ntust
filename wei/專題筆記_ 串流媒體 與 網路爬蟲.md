# 專題筆記: 串流媒體 與 網路爬蟲
09/22 - 09/28, 2022

<!-- -------------------------------------------------- -->
串流媒體 (Streaming Media)
---

將一連串的多媒體資料壓縮後，經過網際網路分段傳送資料，在網際網路上即時傳輸影音以供觀賞的一種技術與過程，此技術使得資料封包得以像流水一樣傳送，如果不使用此技術，就必須在使用前下載整個媒體檔案。

串流媒體在隨選視訊和串流影音電視（如IPTV）服務中最為普遍，例如: Netflix、Disney、YouTube、Apple Music、Spotify。

- 隨選視訊
    ![隨選視訊](https://i.imgur.com/FkpD1y6.png)

<!--
### 傳輸方式

- HTTP/TCP

    HTTP協定讓串流媒體得以穿過防火牆的阻隔，且將串流媒體放在WWW上可以讓使用者方便的取得這些內容，然其缺點在於TCP通訊協定將會導致傳輸速度的減緩，進而增加串流媒體所需要的頻寬，且串流資料必須事先放置於網頁上而無法達到真正即時的效果。

- RTP/UDP

    優點在於UDP 可以提供較好的傳輸效率，且可以達到真正即時的效果並提供群播等有效率的傳輸方式，但有防火牆的問題則需要在防火牆兩端加裝translator的設備以便穿過防火牆。

### 傳輸協定

分三種類:

- 網頁伺服器 (Web server)，將多媒體資料送到使用者的播放器播放
- 獨立的串流伺服器 (streaming server)，將多媒體資料送到使用者的播放器上播放。
- Clientless Streaming，播放器不是內建在用戶端，而是在串流過程中才送到使用者手上。
-->

### 串流概念圖

![概念圖](https://i.imgur.com/11j1CWC.png)

- 將資料切成一段一段傳出去，使用者可以一邊下載一邊觀看
- 不會花費使用者的儲存空間，串流的檔案會儲存在使用者的緩衝記憶體中，播完後即捨棄
- 傳統的影音檔由表頭和表身組成，通常需要在所有資料都傳輸完成後，才可以根據表頭知道這個影音的編碼為何，解碼完後才可以開始觀看。
- 串流的影音則需要先透過伺服器轉成「流容器」，流容器的一個檔案中包含多塊的表頭和表身，每次傳輸的資料都同時包含了表頭和表身，因此可以一邊傳送檔案一邊觀看影音。

![容器](https://i.imgur.com/gkv8ORm.png)

<!-- -------------------------------------------------- -->
網路爬蟲 (Web Crawler)
---

透過程式「自動抓取」網站資料的過程，搜尋引擎像是Google、Bing和Yahoo等是網絡爬蟲最成功的應用。某些網站會提供API，以便讓第三方直接取得資料，這樣就不用再去研究網站的HTML結構了。

### 原理及步驟

1. 請求網頁內容

    向目標網站請求特定網址（URL）的內容。當爬蟲傳送一個GET請求至目標網址，伺服器就會做出回應，將網頁的原始碼回傳，通常會是HTML文件。

2. 抓取所需資料

    將HTML文件做「解析」並「取出」所需的資料。

3. 儲存資料

    將取出的資料儲存在CSV檔案、Excel表或是資料庫當中。

### 遵守規則

- 確保爬蟲遵守robox.txt文件中定義的規範，此文件通常會在網站的根目錄中( /robots. )
- 不造成網站伺服器的負擔
- 在User-agent標頭中加入聯繫方式(公司名稱或電子信箱等資訊)

### 程式語言選用

Python之所以是最適合寫爬蟲的程式語言，除了寫法更簡潔之外，還可以直接使用別人開發好的套件，像是BeautifulSoup。

<!-- -------------------------------------------------- -->
參考資料
---

[串流媒體](https://zh.wikipedia.org/zh-tw/%E6%B5%81%E5%AA%92%E4%BD%93)
[串流技術](https://johnpam11.pixnet.net/blog/post/118644993-%E4%B8%8A%E7%B6%B2%E7%9C%8Byoutube%E5%BD%B1%E7%89%87%E5%B1%AC%E6%96%BC%E7%B6%B2%E8%B7%AF%E4%B8%B2%E6%B5%81%E5%BD%B1%E9%9F%B3%E6%98%AF%E4%BB%80%E9%BA%BC%EF%BC%9Fyo)
[影音傳輸-傳輸方式與通訊協定](https://pjchender.dev/webdev/webrtc-protocol/)

[認識網路爬蟲](https://www.webscrapingpro.tw/what-is-web-scraping/)

<!-- -------------------------------------------------- -->