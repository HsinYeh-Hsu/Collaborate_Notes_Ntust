# 第七周筆記(2022/11/01~2022/11/08)
[toc]
## Capstone
- 目前已經可以視訊
- 聊天室有出了點問題
    - ![](https://i.imgur.com/0PFC5HS.png)
    - ![](https://i.imgur.com/FrZKxe5.png)
- 改進
    - 登出者的畫面要刪除
    - 聊天室功能調整
    - 命名系統弄好
    - 可以分享使用者螢幕畫面
### Polling / WebSocket / WebRTC
- Polling
    - ![](https://i.imgur.com/CvwULWZ.png)
- Websocket
    - ![](https://i.imgur.com/VZxjaMF.png)
- WebRTC
    - ![](https://i.imgur.com/uZmOkpV.png)
### WebRTC
- getUserMedia: 
    - method prompts the user for permission to use a media input(mic,camera)
- MediaRecorder
    - Use with getUserMedia
    - Provides functionality to easily record media. 
- P2P(peer-to-peer)
    - Interface represents a WebRTC connection between the local computer and a remote peer
- RTCDataChannel
    - Interface represents a network channel which can be used for bidirectional peer-to-peer transfers of arbitrary data.
### JavaScript
- let
    - ex. let x=1; ==>Local variable
- console.log
    - console.log("Hello world")== console.log("Hello","world")== console.log("%s","Hello world") ==> printf("Hello world")
    - console.log("%cHello %cWorld", "color:red;", "color:blue;background:yellow")
- onmouseover
    - moves the mouse over it
- onclick
    - button is clicked
    - <button onclick="myFunction()">Click me.</button>
- onmouseover
    - <div onmouseover ="this.style.backgroundColor='red'">myDIV.</div>
- ***Document Object Model(DOM)***
    - Every elemants are a document: tag, text, picture ...
        - element: <div></div> , <p></p>
    - tree model
        - ![](https://i.imgur.com/EpV4bHn.png)
- Js https.createServer
    - [https.createServer](https://stackoverflow.com/questions/5998694/how-to-create-an-https-server-in-node-js)
    - [Node.js 內建的 Web Server 介紹及使用](https://ithelp.ithome.com.tw/articles/10185302)
### Js Socket
- socket_io.emit() ==> Event Emitter(事件發射器)
    - [io.emit resource](https://socket.io/docs/v3/emitting-events/)
## 網際網路應用
- [cookie](https://blog.trendmicro.com.tw/?p=63387)
- [web cache](https://www.digicentre.com.tw/industry_detail.php?id=44)
- [http request message](https://slideplayer.com/slide/13130365/)
    - To reduce the server calculation, by checking if there is aalready have a cache memory
    - Stored at: cache server, CDN, Reverse Proxy
- [SMTP](https://www.cloudflare.com/zh-tw/learning/email-security/what-is-smtp/)
    - TCP協定
    - direct transfer: sending server to receiving server.
- [IMAP、POP3和SMTP是什麼?有什麼差異?](IMAP、POP3和SMTP是什麼?有什麼差異?)
    - POP3(Post Office Protocal - version3)
- OSI
    - Data link layer(2)
        - Data frame
            - 1. Character Count
            - 2. Flag with Byte/Bit Stuffing
        - Error Detection/Correction
            - 1. Parity Bits
            - 2. Checksum
            - 3. Cyclic Redundancy Code (CRC)
        - Reliable Delivery
        - Link Access
            - Broadcast Link
            - Point-to-Point Link 
            - 解決面對不同的傳播媒介，究竟我們如何傳輸資料的問題
            - 解決以上傳播問題的協定，我們通常叫它們 Medium Access Control protoco(MAC)
        - Point-to-Point Protocol(PPP)
            -  ADSL 或 VDSL 
                -  ADSL: 是一種利用傳統電話線路調變/解調變的技術，來提供網際網路上網服務
                -  VDSL: VDSL允許使用者端利用現有銅線獲得高頻寬服務而不必採用光纖，VDSL的缺點是傳輸速度與傳輸距離成反比，配線品質需相當好。而且VDSL目前還沒有一套統一標準，各家所製造的裝置互不相容。
        -  Broadcast Link: 需要解決的是所謂 Multiple Access 問題，也就是彼此訊號碰撞，互相干擾的問題
            -  Broadcast Link - Taking Turns
                -  polling :有一個大家長，負責輪流依序通知每個人傳輸的時間,
                    -    缺點: Polling Delay，也就是不管某人要不要使用傳輸管道，輪到它的時候，家長都還是得通知它，所以即便一群人當中只有一個人想吃飯，但是只要你在飯桌上，就還是會問一問你的意思，這個時間延遲我們叫 Polling Delay。
                    -    優點: 可以完全避免訊號干擾問題
                -  token ring: 通常沒有家長了，大家是同等的地位，然後一群人當中有一個代表權利象徵的物品，我們叫它 Token。
                    -  大家依序輪流拿到這個 Token， 可以完全避免訊號互相干擾問題，且 Token Ring 也沒有 Polling Delay
                    -  缺點: 如果發生故障，則整個機制會崩解掉(現在很少用)
        -  Frequency-Division Multiplexing (FDM)
            -  FDM 是切割頻譜成不同的範圍，使用者可以在不同的頻率範圍傳輸資料，優點是因為在不同的頻率段，所以彼此可以同時傳輸，又不會互相干擾。
        -  Time-Division Multiplexing (TDM)
            -  時間切割為許多小單位，每個使用者都在屬於自己的 Time Slots 裡頭才能傳輸資料，優點也是不會互相干擾，但是稍微等一下，每回合都會有你可以送資料的時候。
            -  FDM 和 TDM 的缺點都是效率，可以想見，假設今天只有一個使用者，該使用者仍然無法使用全部的頻寬
        -  Code Division Multiple Access (CDMA)
            -  概念上就是每個使用者給予其不同的編碼 (Code)，其編碼頻率比資料傳輸的頻率要高出許多，例如使用者要傳送 bit 1 資料，使用者的編碼就將這個 bit 1 編碼為一組 01 字串，你可以想像從一個 bit 到一組 01 字串，取決於字串的長度，編碼的頻率就比資料傳輸的頻率高出多少倍，字串長度為 N，則高出 N 倍。
        -  Broadcast Link - Random Access:顧名思義就是允許每個使用者可以隨機的存取傳輸管道，打架了再來解決。
            - CSMA/CD(Collision Detection)
                - 先感知一下，確定沒有人在傳輸資料，才開始傳
            - CSMA/CA(Collision Avoidance)
                - 運用於 802.11 區域無線網路，機制的主要目的是要避免碰撞，不像 Ethernet 一樣是偵測碰撞
- Wireless and Mobile Network
    - 
-  Resource
    -  [Data Link Layer](http://securityalley.blogspot.com/2014/06/data-link-layer.html)
    - Transport layer(2)
        - TCP
        - UDP
    - Application layer(1)
        - HTTP(hyper text transfer protocol)
        - FTP(file transfer protocol)
        - POP3(post office protocol-version 3)
### install
- npm install socket.io
- npm install express@4
- npm install nodemon
- npm install peer
    - peerjs --port 3001
    - <script src="https://unpkg.com/peerjs@1.4.7/dist/peerjs.min.js"></script>
- npm i --save-dev nodemon
    - npm start devStart
- npm init -y 